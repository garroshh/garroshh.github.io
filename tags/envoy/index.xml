<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Envoy - 标签 - LoveIt</title><link>https://garroshh.me/tags/envoy/</link><description>Envoy - 标签 - LoveIt</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>garroshh.jia@gmail.com (garroshh)</managingEditor><webMaster>garroshh.jia@gmail.com (garroshh)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 11 May 2020 14:41:33 +0800</lastBuildDate><atom:link href="https://garroshh.me/tags/envoy/" rel="self" type="application/rss+xml"/><item><title>XDS API</title><link>https://garroshh.me/xds-api/</link><pubDate>Mon, 11 May 2020 14:41:33 +0800</pubDate><author>作者</author><guid>https://garroshh.me/xds-api/</guid><description>Listeners Discovery Service API — LDS to publish ports on which to listen for traffic Endpoints Discovery Service API- EDS for service discovery, Routes Discovery Service API- RDS for traffic routing decisions Clusters Discovery Service- CDS for backend services to which we can route traffic Secrets Discovery Service — SDS for distributing secrets (certificates and keys) xDS REST and gRPC protocol：h</description></item><item><title>实现蓝绿部署</title><link>https://garroshh.me/%E5%AE%9E%E7%8E%B0%E8%93%9D%E7%BB%BF%E9%83%A8%E7%BD%B2/</link><pubDate>Wed, 06 May 2020 15:55:16 +0800</pubDate><author>作者</author><guid>https://garroshh.me/%E5%AE%9E%E7%8E%B0%E8%93%9D%E7%BB%BF%E9%83%A8%E7%BD%B2/</guid><description>目标 根据 HTTP 请求头蓝绿部署 调配 20% 流量到新的版本 启动3个版本上游服务 1 2 3 4 5 docker run -d katacoda/docker-http-server:v1 docker run -d katacoda/docker-http-server:v1 docker run -d katacoda/docker-http-server:v2 docker run -d katacoda/docker-http-server:v2 docker run -d katacoda/docker-http-server:v3 1 docker ps -q | xargs -n 1 docker inspect --format &amp;#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}</description></item><item><title>实现Metrics和Tracing的能力</title><link>https://garroshh.me/%E5%AE%9E%E7%8E%B0metrics%E5%92%8Ctracing%E7%9A%84%E8%83%BD%E5%8A%9B/</link><pubDate>Wed, 06 May 2020 15:54:52 +0800</pubDate><author>作者</author><guid>https://garroshh.me/%E5%AE%9E%E7%8E%B0metrics%E5%92%8Ctracing%E7%9A%84%E8%83%BD%E5%8A%9B/</guid><description>目标 暴露 Envoy 的 Metrics 到 Prometheus 使用 Prometheus 数据源在 Grafana 展示 配置 Envoy 发送 traces 到 Jaeger 启动上游服务 1 2 docker run -d katacoda/docker-http-server:healthy docker run -d katacoda/docker-http-server:healthy 启动 Envoy 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</description></item><item><title>基于API的动态路由</title><link>https://garroshh.me/%E5%9F%BA%E4%BA%8Eapi%E7%9A%84%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1/</link><pubDate>Wed, 06 May 2020 15:27:22 +0800</pubDate><author>作者</author><guid>https://garroshh.me/%E5%9F%BA%E4%BA%8Eapi%E7%9A%84%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1/</guid><description>目标 配置EDS 使用 REST API 为集群添加端点 使用 REST API 删除端点 当上游被定义在配置中，Envoy 需要知道如何解析集群成员，这时需要用到服务发现。EDS 是</description></item><item><title>基于文件的动态路由</title><link>https://garroshh.me/%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1/</link><pubDate>Wed, 06 May 2020 11:25:32 +0800</pubDate><author>作者</author><guid>https://garroshh.me/%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1/</guid><description>目标 如何使用 Envoy 提供的基于文件的动态配置 介绍 前面介绍了静态配置，使得在需要更改时很难重新加载配置。使用动态配置，进行更改时，Envoy将自动重</description></item><item><title>Envoy 前端代理</title><link>https://garroshh.me/envoy-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%90%86/</link><pubDate>Wed, 06 May 2020 11:12:34 +0800</pubDate><author>作者</author><guid>https://garroshh.me/envoy-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%90%86/</guid><description>目标 使用 Envoy 基于请求的 URL 代理流量到不同的Python服务 实验代码部署架构如图所示： Clone Envoy 仓库，并启动所有的容器 1 git clone https://github.com/envoyproxy/envoy.git 测试 测试 Envoy 路由能力 测试En</description></item><item><title>Envoy VS Nginx</title><link>https://garroshh.me/envoy-vs-nginx/</link><pubDate>Wed, 06 May 2020 10:38:06 +0800</pubDate><author>作者</author><guid>https://garroshh.me/envoy-vs-nginx/</guid><description>目标 对比Envoy 和 Nginx 配置 Nginx配置 Nginx 配置三要素： 全局配置 Nginx 服务器，日志记录结构，Gzip 功能等 配置 Nginx 在 10000 端口接收对 one.example.com 主机的请求 配置如何</description></item><item><title>Hello Envoy</title><link>https://garroshh.me/hello-envoy/</link><pubDate>Thu, 30 Apr 2020 18:18:41 +0800</pubDate><author>作者</author><guid>https://garroshh.me/hello-envoy/</guid><description>目标 配置Envoy代理转发流量到外部网址 通过控制流量目的地址，演示基于路径的路由 准备 Envoy 的配置文件 如下所示，文件名 baidu_com_prox</description></item></channel></rss>